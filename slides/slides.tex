\documentclass[xetex, mathserif, serif,hyperref={pdfpagelabels=false}]{beamer}

% --------------------------------------------------------------------------
% Color definitions.
% --------------------------------------------------------------------------
\usepackage{xcolor}
\definecolor{amethyst}{rgb}{0.6, 0.4, 0.8}
\definecolor{antiquefuchsia}{rgb}{0.57, 0.36, 0.51}
\definecolor{ballblue}{rgb}{0.13, 0.67, 0.8}
\definecolor{blue(munsell)}{rgb}{0.0, 0.5, 0.69}
\definecolor{blue(pigment)}{rgb}{0.2, 0.2, 0.6}
\definecolor{blu}{RGB}{1,0,102}
\definecolor{brightmaroon}{rgb}{0.76, 0.13, 0.28}
\definecolor{bondiblue}{rgb}{0.0, 0.58, 0.71}
\definecolor{cadet}{rgb}{0.33, 0.41, 0.47}
\definecolor{ashgrey}{rgb}{0.7, 0.75, 0.71}
\definecolor{amber}{rgb}{1.0, 0.75, 0.0}
\definecolor{aliceblue}{rgb}{0.94, 0.97, 1.0}
% --------------------------------------------------------------------------

% --------------------------------------------------------------------------
% Beamer configuration.
% --------------------------------------------------------------------------
\usetheme{default}
\usecolortheme{default}
\beamertemplatenavigationsymbolsempty
\hypersetup{pdfpagemode=UseNone}

\setbeamertemplate{footline}{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.8\paperwidth,ht=2.25ex,dp=1ex,left]{headFoot}%
    \hspace*{2ex}\insertshorttitle
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.2\paperwidth,ht=2.25ex,dp=1ex,right]{headFoot}%
    \insertframenumber{}/\inserttotalframenumber\hspace*{2ex}
  \end{beamercolorbox}}%
  \vskip0pt%
}

\setbeamercolor{headFoot}{fg=gray,bg=aliceblue}
\setbeamercolor{institute}{fg=blu}
\setbeamercolor{normal text}{fg=blu}
\setbeamercolor{subtitle}{fg=blu}
\setbeamercolor{titlelike}{fg=blu}
\setbeamerfont{footnote}{size=\tiny}
\setbeamercolor{block title}{bg=blue,fg=blu}
\setbeamercolor{block body}{bg=aliceblue}
\setbeamercolor{item}{fg=blu} % color of bullets
\setbeamercolor{subitem}{fg=blu}
\setbeamercolor{itemize/enumerate subbody}{fg=blu}
\setbeamertemplate{itemize subitem}{{\textendash}}
\setbeamerfont{itemize/enumerate subbody}{size=\footnotesize}
\setbeamerfont{itemize/enumerate subitem}{size=\footnotesize}
% --------------------------------------------------------------------------


\usepackage[english]{babel}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{bussproofs}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{url}
\usepackage{lstagda}


\usefonttheme{professionalfonts}
\usefonttheme{serif}
\usepackage{fontspec}
\setmainfont[ExternalLocation=fonts/
  , BoldFont=Vollkorn-Bold.ttf
  , ItalicFont=Vollkorn-Italic.ttf
  , BoldItalicFont=Vollkorn-BoldItalic.ttf
  ]{Vollkorn-Regular.ttf}

\usepackage{mathtools}
\usepackage{unicode-math}


%\setmainfont{xits-regular.otf}
\setmathfont{xits-mathbold.otf}

\newfontfamily\SourceCode{SourceCodePro-Semibold.ttf}
\newfontfamily\SourceCodeIt{SourceCodePro-It.ttf}
\setmonofont{SourceCodePro-Semibold.ttf}

\newcommand{\problemtptp}[3][c]{\lstinputlisting[style=tptp,caption=#2, firstline=#3, label=custom#1]{#2}}
\newcommand{\solutiontstp}[2][c]{\lstinputlisting[style=tptp,caption=#2, firstline=5, label=custom#1]{#2}}


\title{Proof Reconstruction with Athena\\(Work in Progress)}
\date{Agda Implementorsâ€™ Meeting XXV}
\author{Jonathan Prieto-Cubides}

\institute{
Advisor: Andr\'es Sicard-Ram\'irez\\[3mm]
EAFIT University\\
Medell\'in, Colombia}

\begin{document}

\setcounter{page}{1}
\maketitle

% Context
% - SledgeHammer
% - Metis
% - Problem with Wallmeinster finding the code.
% - equinox (intuisionistic version)

\begin{frame}{Keywords}
  \begin{block}{Proof Assistant}
    is a software program that work together with a human in order to give formal proofs to problems in a wide range of topics.\\
    - Agda, Isabelle/HOL, HOL Light, Coq.
  \end{block}
  \begin{block}{\text{A}utomatic \textbf{T}heorem \textbf{P}rover}
    Is software program that tries to prove conjecture based on a list of hypothesis.\\
    - Metis, Z3, Vampire, EProver, iProver, SPSS.
  \end{block}
\end{frame}

\begin{frame}{Athena}
  Is a Haskell program that translates proofs given by Metis ATP in TSTP format
  to Agda code.

  \begin{figure}
    \includegraphics[scale=0.85]{diagram.pdf}
    \label{im:athena}
    \caption{Proof reconstruction work flow.}
  \end{figure}
\end{frame}

\begin{frame}{TPTP}
  Is a text format to encode problems in different theories. Its goal is provide
  a standard for all ATPs in the input file format. The version for derivations
  is named TSTP but this one is not a standard yet.\\[2mm]

  A TPTP file looks like:

  \problemtptp[basic-4.tptp]{../test/prop-pack/problems/basic/basic-4.tptp}{2}

\end{frame}

\begin{frame}{TSTP}
  A derivation of the previous problem output by Metis ATP.
{\footnotesize
  \problemtptp[basic-4.tstp]{../test/prop-pack/problems/basic/basic-4.tstp}{0}
}
\end{frame}

\begin{frame}{Agda}
   A verified proof of the previous derivation output by Athena.

  \begin{figure}
    \includegraphics[scale=0.35]{basic-4}
    \label{im:basic}
    \caption{Type-checked Proof.}
  \end{figure}

\end{frame}


\begin{frame}{Natural deduction tree}
  $\Gamma , p \vdash p$
\begin{proof}\hfill
\label{basic-der}
\begin{prooftree}
\AxiomC{$\Gamma \vdash a_1$}
\RightLabel{\scriptsize({\bfseries weaken $\neg\ \text{subgoal}_0$})}
\UnaryInfC{$\Gamma, \neg\ \text{subgoal}_0\,\vdash a_1$}
\RightLabel{\scriptsize({\bfseries canonicalize})}
\UnaryInfC{$\Gamma, \neg\ \text{subgoal}_0\,\vdash p$}
\AxiomC{$\Gamma \vdash p$}
\RightLabel{\scriptsize({\bfseries assume})}
\UnaryInfC{$\Gamma, \neg\ \text{subgoal}_0\,\vdash \neg p$}
\RightLabel{\scriptsize({\bfseries canonicalize})}
\UnaryInfC{$\Gamma, \neg\ \text{subgoal}_0\,\vdash \neg p$}
\RightLabel{\scriptsize({\bfseries simplify})}
\UnaryInfC{$\Gamma, \neg\ \text{subgoal}_0\,\vdash \neg p$}
\BinaryInfC{$\bot$}
\RightLabel{\scriptsize({\bfseries RAA})}
\UnaryInfC{$\Gamma \vdash p$}
\end{prooftree}
% A tree deduction of problem \ref{prob1}
\end{proof}
\end{frame}
% The tool : Athena.
% Its components:
% - agda-prop (logic framework)
% - agda-metis (ATP rules)
% - prop-pack (problems)

\begin{frame}{Future work}

  \begin{itemize}
  \item
    Extend the libraries Agda-Prop and Agda-Metis to handle predicated logic
  \item
    Reconstruct proofs of eprover in Agda-EProver
  \item
    Support more versions of GHC in Athena
  \end{itemize}

\end{frame}


\begin{frame}{References}

\end{frame}

\end{document}