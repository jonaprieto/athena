\documentclass[../../main.tex]{subfiles}
\begin{document}


\subsubsection{Clausification.}
\label{sssec:clausification}

The \clausify rule transforms a formula into its clausal normal form.
It is important to notice that this kind of conversion between one formula
to its clausal normal form is not unique, and \Metis has a customized
approach to perform that transformation. Hence, we perform a
reordering of the conjunctive normal form for the source formula.

\begin{myexamplenum}
In the following \TSTP derivation by \Metis, we see how
<<<<<<< HEAD
\clausify transform the \texttt{norm0} formula to get \texttt{norm1} formula.
=======
\clausify transforms the \texttt{norm0} formula to get \texttt{norm1} formula.
>>>>>>> 88b455b25200c7d31b6b992a908381677ba2ee40

\begin{verbatim}
  fof(norm0, ¬ p ∨ (q ∧ r) ...
  fof(norm1, (¬ p ∨ q) ∧ (¬ p ∨ r), inf(clausify, [norm0])).
\end{verbatim}

\end{myexamplenum}

\begin{mainth}
\label{thm:clausify}
   Let $ψ : \Target$. If $Γ ⊢ φ$ then $Γ ⊢ \fclausify~φ~ψ$, where
  \begin{equation*}
  \begin{aligned}
  &\hspace{.495mm}\fclausify : \Source → \Target → \Prop\\
  &\begin{array}{llll}
  \fclausify~φ~ψ &=
         \begin{cases}
        ψ, &\text{ if }φ≡ψ;\\
        \freorder_{∧∨}~(\fcnf~φ)~ψ, &\text{ otherwise.}
      \end{cases}
  \end{array}
  \end{aligned}
  \end{equation*}
\end{mainth}

\begin{proof}
If $φ ≡ ψ$, $Γ ⊢ \fclausify~φ~ψ$ normalizes to $Γ ⊢ ψ$. The conclusion follows by applying the $\fsubst$ lemma. Otherwise, we use Lemma~\ref{lem:reorder-and-or} and Lemma~\ref{lem:cnf}.
\end{proof}

\end{document}
