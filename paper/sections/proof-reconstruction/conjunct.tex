\documentclass[../../main.tex]{subfiles}
\begin{document}

\subsubsection{Splitting a conjunct.}
\label{sssec:splitting-a-conjunct}

The \conjunct rule extracts from a
conjunction one of its conjuncts. This rule is a generalization of the
projection rules for the conjunction connective as the
following \TSTP excerpt shows.

\begin{verbatim}
fof(p1, p & q & (r | ~ p), inf(canonicalize, [x])).
fof(p2, q, inf(conjunct, [p1])).
fof(p3, (r | ~ p), inf(conjunct, [p1])).
\end{verbatim}


\begin{mainth}
  \label{thm:conjunct}
  If $Γ ⊢ φ$ and $ψ  : \Prop$ then $Γ ⊢ \fconjunct~φ~ψ$, where,
  \begin{equation*}
  % \label{eq:rank-definition}
  \begin{aligned}
  &\hspace{.495mm}\fconjunct : \Prop \to \Prop \to \Prop\\
  &\begin{array}{llll}
  \fconjunct~φ~ψ &=
        \begin{cases}
            ψ, &\text{ if }φ ≡ ψ\\
            ψ, &\text{ if }φ ≡ φ₁ ∧ φ₂\text{ and }\fconjunct(φ₁, ψ) ≡ ψ  \\
            ψ, &\text{ if }φ ≡ φ₁ ∧ φ₂\text{ and }\fconjunct(φ₂, ψ) ≡ ψ  \\
            φ, &\text{ otherwise.}
          \end{cases}
  \end{array}
  \end{aligned}
  \end{equation*}
\end{mainth}

\begin{proof}\hspace{2cm}\\
Case $φ ≡ ψ$. $Γ ⊢ \fconjunct~φ~ψ$ normalizes to $Γ ⊢ ψ$.
Then, we get the desire conclusion by applying the $\fsubst$ lemma.\\[2mm]
Case $φ ≡ φ₁ ∧ φ₂$. If we can get $ψ ≡ \fconjunct(φ_{i}, ψ)$ for some $i = 1,\ 2$, then,

\begin{equation*}
  \begin{bprooftree}
  \AxiomC{$Γ ⊢ φ₁ ∧ φ₂$}
  \RightLabel{∧-proj$_{i}$}
  \UnaryInfC{$Γ ⊢ φ_{i}$}
  \RightLabel{by hyp.}
  \UnaryInfC{$Γ ⊢ \fconjunct(φ_{i}, ψ)$}
  \AxiomC{$ψ ≡ \fconjunct(φ_{i}, ψ)$}
  \RightLabel{subst}
  \BinaryInfC{$Γ ⊢ ψ$}
  \end{bprooftree}
\end{equation*}
Otherwise, the last case follows trivially.
\end{proof}

\end{document}
