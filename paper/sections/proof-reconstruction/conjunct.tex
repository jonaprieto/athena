\documentclass[../../main.tex]{subfiles}
\begin{document}

\subsubsection{Splitting a conjunct.}
\label{sssec:splitting-a-conjunct}

The \conjunct rule extracts from a
conjunction one of its conjuncts. This rule is a generalization of the
projection rules for the conjunction connective as the
following \TSTP excerpt shows.

\begin{myexample}\hspace{10cm}

\begin{verbatim}
fof(p1, p & q & (r | ~ p), inf(canonicalize, [x])).
fof(p2, q, inf(conjunct, [p1])).
fof(p3, (r | ~ p), inf(conjunct, [p1])).
\end{verbatim}

In the first formula, \verb!p & q & (r | ~ p)!, we find a left-associative
conjunction named \verb!p1!.
The \conjunct rule extracts \verb!q! from the \verb!p1! using a left
projection (∧-proj₁) follow by a right projection (∧-proj₂).
After, the \conjunct rule extracts \verb!r | ~ p! by using a right projection
on \verb!p1!.
\end{myexample}

\begin{mainth}
  \label{thm:conjunct}
  If $Γ ⊢ φ$ and $ψ  : \Prop$ then $Γ ⊢ \fconjunct~φ~ψ$ where,
  \begin{equation*}
  % \label{eq:rank-definition}
  \begin{aligned}
  &\hspace{.495mm}\fconjunct : \Prop \to \Prop \to \Prop\\
  &\begin{array}{llll}
  \fconjunct~φ~ψ &=
        \begin{cases}
            ψ, &\text{ if }φ ≡ ψ\\
            ψ, &\text{ if }φ ≡ φ₁ ∧ φ₂\text{ and }ψ ≡ \fconjunct~φ₁~ψ  \\
            ψ, &\text{ if }φ ≡ φ₁ ∧ φ₂\text{ and }ψ ≡ \fconjunct~φ₂~ψ  \\
            φ, &\text{ otherwise.}
          \end{cases}
  \end{array}
  \end{aligned}
  \end{equation*}
\end{mainth}

\begin{proof}\hspace{10cm}
\begin{itemize}
\item[∙] Case $φ ≡ ψ$. $Γ ⊢ \fconjunct~φ~ψ$ normalizes to $Γ ⊢ ψ$.
Then, we get the desire conclusion by applying the $\fsubst$ lemma.
\item[∙] Case $φ ≡ φ₁ ∧ φ₂$. If we can get $ψ ≡ \fconjunct~φ_{i}~ψ$ for some $i = 1,\ 2$, then,

\begin{equation*}
  \begin{bprooftree}
  \AxiomC{$Γ ⊢ φ₁ ∧ φ₂$}
  \RightLabel{∧-proj$_{i}$}
  \UnaryInfC{$Γ ⊢ φ_{i}$}
  \RightLabel{by~ind.~hyp.}
  \UnaryInfC{$Γ ⊢ \fconjunct~φ_{i}~ψ$}
  \AxiomC{$ψ ≡ \fconjunct~φ_{i}~ψ$}
  \RightLabel{\fsubst}
  \BinaryInfC{$Γ ⊢ ψ$}
  \end{bprooftree}
\end{equation*}
\item[∙] Otherwise, the last case follows from the hypothesis.
\end{itemize}
\end{proof}

\end{document}
