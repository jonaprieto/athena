
\documentclass[../main.tex]{subfiles}
\begin{document}

% ===================================================================

\section{Preliminaries}
\label{sec:preliminaries}

Before describe the proof reconstruction, we need some definitions
and some convention notations.

\subsection{Classical Propositional Logic}
\label{ssec:CPL}

\textit{Propositions.}
We define the classical propositional logic as usual.
A proposition is an expression of indivisible propositional atoms
(e.g., symbols $φ₀, φ₁, \cdots$),
binary logic connectives ($∧, ∨, ⇒, ⇔)$,
propositional negation $(¬)$, and logic constants $⊥$
and $⊤$. We use the inductive definition of the set \Prop
presented in \cite{VanDalen1994} as the mechanism to produce any
propositional formula.
Then, $ϕ_i \in \Prop$ for all $i \in \mathbb{N}$.
If $φ, ψ\in \Prop$, then $(φ\ \square\ ψ) \in \Prop$,
where $(φ\ \square\ ψ)$ stands for a proposition that use a
binary connective in the place for the $\square$ symbol.
If $φ \in \Prop$, then $(¬ φ) \in \Prop$.
Finally, $⊥, ⊤ \in \Prop$.

\emph{Derivations.}
A derivation of $φ$ is a mechanism to obtain the conclusion $φ$ from
the application of some deduction steps. Such a deduction step has
the form of a set of propositional \emph{premises} that conclude the
result: one or more propositions. As we show in the following
figure, the premises are always above the line, the conclusions
are below it, and the name of the inference or the theorem used is
on the right the line. As a notation convention, if the name of a
rule used in the derivation step is typed using verbatim, that
means, it is available in our implementation (see for instance,
theorems in \cite{AgdaProp}) used in some derivations latter.

\[
\label{eq:derivation}
\begin{bprooftree}
\AxiomC{φ}
\AxiomC{ψ}
\BinaryInfC{φ ∧ ψ}
\end{bprooftree}\qquad
\begin{bprooftree}
\AxiomC{[¬ φ]}
\noLine
\UnaryInfC{$\vdots$}
\noLine
\UnaryInfC{⊥}
\RightLabel{\abbre{RAA}}
\UnaryInfC{φ}
\end{bprooftree}
\]

\vskip 2mm

\emph{Theorems.}
A sequent $Γ ⊢ φ$ represents a theorem, but we
define it as a relation between a set of propositions premises $Γ$,
and $φ$ as the sequent's conclusion.
The symbol $⊢$ is called turnstile.
If $Γ = ∅$, we write $⊢ φ$, and we say that $φ$ is a theorem.
Then, a theorem, $Γ ⊢ φ$ , means that there is a derivation with
conclusion $φ$ and with all (uncancelled) hypotheses in $Γ$.


\emph{Postulates.}
We only postulate the principle of excluded third
(\abbre{PEM}), $φ ∨ ¬ φ$. From there, we derive the
\emph{reductio ad absurdum} rule (\abbre{RAA}) as the
formulation of the principle of proof by contradiction: a derivation
of a contradiction, $⊥$, from the hypothesis $(¬ φ)$, is a
derivation of $φ$.

\label{eq:PEM-RAA}
\[
\begin{bprooftree}
\AxiomC{\ }
\RightLabel{\scriptsize\tt PEM}
\UnaryInfC{Γ ⊢ φ ∨ ¬ φ}
\end{bprooftree}
\qquad
\begin{bprooftree}
\AxiomC{Γ, ¬ φ ⊢ ⊥}
\RightLabel{\scriptsize\tt RAA}
\UnaryInfC{Γ ⊢ φ}
\end{bprooftree}
\qquad
\]

\emph{Natural Deductions.}
The natural deduction designed by Gentzen \improvement{Cite the work
by Gentzen.} defines a formal system for derivations that uses a set
of inference rules as the only way to obtain a conclusion.
We use this system to refer to formal proofs as natural deduction
proofs and conversely, in the latter.
We define our inference rules for \CPL in the Fig.
\ref{fig:CPL-inference-rules}. These rules give us the complete
meaning of the connectives; how to introduce them and
how they can be remove them in the conclusion side of the theorems.
\change{the size of the text.}

\begin{figure}
\[%\scalebox{0.9}{
\begin{bprooftree}
\AxiomC{}
\RightLabel{\tt assume $φ$}
\UnaryInfC{$Γ , φ ⊢ φ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ$}
\RightLabel{\tt weaken $ψ$}
\UnaryInfC{$Γ , ψ ⊢ φ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{}
\RightLabel{\tt $⊤$-intro}
\UnaryInfC{$Γ ⊢ ⊤$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ⊢ ⊥$}
\RightLabel{\tt $⊥$-elim $φ$}
\UnaryInfC{$Γ ⊢ φ$}
\end{bprooftree}
%}
\]

\[%\scalebox{0.9}{
\begin{bprooftree}
\AxiomC{$Γ , φ ⊢ ⊥$}
\RightLabel{\tt $¬$-intro}
\UnaryInfC{$Γ ⊢ ¬ φ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ⊢ ¬ φ$}
\AxiomC{$Γ ⊢ φ$}
\RightLabel{\tt $¬$-elim}
\BinaryInfC{$Γ ⊢ ⊥$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ$}
\AxiomC{$Γ ⊢ ψ$}
\RightLabel{\tt $\wedge$-intro}
\BinaryInfC{$Γ ⊢ φ \wedge ψ$}
\end{bprooftree}
%}
\]

\[%\scalebox{0.9}{
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ \wedge ψ$}
\RightLabel{\tt $\wedge$-proj$_1$}
\UnaryInfC{$Γ⊢ φ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ \wedge ψ$}
\RightLabel{\tt $\wedge$-proj$_2$}
\UnaryInfC{$Γ⊢ ψ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ$}
\RightLabel{\tt $\vee$-intro$_1$ $ψ$}
\UnaryInfC{$Γ ⊢ φ \vee ψ$}
\end{bprooftree}
%}
\]

\[%\scalebox{0.9}{
\begin{bprooftree}
\AxiomC{$Γ ⊢ ψ$}
\RightLabel{\tt $\vee$-intro$_2$ $φ$}
\UnaryInfC{$Γ ⊢ φ \vee ψ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ ,φ ⊢ \gamma $}
\AxiomC{$Γ , ψ  ⊢ \gamma$}
\RightLabel{\tt $\vee$-elim}
\BinaryInfC{$Γ , φ \vee ψ ⊢ \gamma$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ , φ ⊢ ψ$}
\RightLabel{\tt $\Rightarrow$-intro}
\UnaryInfC{$Γ ⊢ φ \Rightarrow ψ$}
\end{bprooftree}
%}
\]

\[
%\scalebox{0.9}{
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ \Rightarrow ψ$}
\AxiomC{$Γ ⊢ φ$}
\RightLabel{\tt $\Rightarrow$-elim}
\BinaryInfC{$Γ ⊢ ψ$}
\end{bprooftree}\quad
\begin{bprooftree}
\AxiomC{$Γ , φ ⊢ ψ$}
\AxiomC{$Γ , ψ ⊢ φ$}
\RightLabel{\tt $⇔$-intro}
\BinaryInfC{$Γ ⊢ φ ⇔ ψ$}
\end{bprooftree}
%}
\]

\[
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ$}
\AxiomC{$Γ ⊢ φ ⇔ ψ$}
\RightLabel{\tt $⇔$-elim$_1$}
\BinaryInfC{$Γ ⊢ ψ$}
\end{bprooftree}
\qquad
\begin{bprooftree}
\AxiomC{$Γ ⊢ φ$}
\AxiomC{$Γ ⊢ φ ⇔ ψ$}
\RightLabel{\tt $⇔$-elim$_2$}
\BinaryInfC{$Γ ⊢ ψ$}
\end{bprooftree}
\]

\caption{Inference rules in classical propositional logic.}
\label{fig:CPL-inference-rules}
\end{figure}

\emph{Proof Trees.} We use trees to represent derivations and
natural deduction proofs (see for instance, the proof tree in a
\Metis' derivation in Fig.~\ref{fig:metis-example}).
In a proof tree, the root is the conclusion of the entire
derivation. The nodes labeled with the name of the inference rule
contains the result of applying that rule to their parents. Lastly,
the leaves in the tree become the premises, not all necessary
canceled (see a better discussion on cancellation of hypotheses in
\cite{VanDalen1994}).


\end{document}