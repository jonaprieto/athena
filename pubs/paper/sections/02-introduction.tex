
\documentclass[../paper.tex]{subfiles}
\begin{document}

% ===================================================================

\section{Introduction}
\label{sec:introduction}

An automatic theorem prover (henceforth \ATP) is a program that
intends to prove conjectures from axioms and inference rules of some
logical system. In the last decades, \ATPs are quickly becoming a key
instrument in many disciplines and real applications (\eg, verifying a
railway interlocking system, an operating-system kernel, or a
pseudo-random number generator). Since some programming errors have
been found in these programs (see, for example,
\cite{Keller2013,Bohme2011,Fleury2014}), researchers and users from
academia and industry have shown an increased interest in
\emph{formally} proving the validity of \ATPs' results.

In order to give confidence to the users of the \ATP, many of these
systems have started to include in their outputs the full derivations
associated to the proved theorems. However, existing research
recognizes that in many cases these derivations encode non-trivial
reasoning hard to reconstruct and therefore hard to
verify~\cite{paulson2007source,Keller2013}.

Proof-reconstruction addresses this problem. Since many \ATPs are
poor-documented, this problem becomes a reverse
engineering task to verify the prover reasoning. Usually, is the
reconstruction is made by another and not by the developers of the
\ATP. Therefore, the presentation of the derivations generated by the
prover plays an important role in proof-reconstruction.

To verify such automatically generated derivations by the prover, it
is convenient to have them in a consistent format, that is, a full
script describing the derivation step-by-step with  exhaustive details
and without ambiguities. For example, from a list of at least forty
\ATPs for classical propositional logic (henceforth \CPL) ---available
from the Web service \name{SystemOnTPTP} of the TPTP
World\footnote{\url{http://www.cs.miami.edu/~tptp/}.}--- just few of
them show proofs when they find the conjecture of the problem is a 
theorem.

One approach to address the proof-reconstruction problem is
proving each deduction of the prover, the \emph{source} system,
with a formalization of the prover reasoning in a proof-assistant, the
\emph{target} system. The target system is the
\emph{proof-checker} in charge of verifying the source system reasoning
for each derivation.
These proof-assistants allow us to formalize the logical system used
in the proofs, \ie, logical constants, axioms, inference rules,
hypotheses, and theorems.
A proof-reconstruction tool provides such an
integration, translating the derivation generated by the prover into
the formalism of the proof-assistant.

Previous studies have reported proof-reconstruction using
proof-assistants based on higher-order logic where the development is at a mature
stage~\cite{paulson2010three,hurlin07practical,kaliszyk2013}.
Another approaches has been proposed for proof-reconstructing based
on type theory in~\cite{Bezem2002,kanso2016light,Keller2013}.

We describe a formal reconstruction of proofs generated by the \Metis
prover~\cite{hurd2003first}---our source system---in Martin-LÃ¶f type
theory~\cite{Nordstrom-Petersson-Smith-1990}. To do so, we only  take
into account the syntax rather than the semantics of the subset of the
\Metis inference rules for the propositional logic fragment. The
\Metis reasoning was formalized in \Agda~\cite{agdateam}---our target
system---in two libraries~\cite{AgdaProp,AgdaMetis} and we implemented
a proof-reconstruction tool named \Athena~\cite{Athena} written in
\Haskell that is able to generate \Agda proof-terms for \Metis
derivations.  In the course of this work, we uncovered and reported
two programming errors in the ATP \Metis: a bug\footnote{Issue No.\,2
at \url{https://github.com/gilith/metis/issues/2}} in the printing of
the derivation and a soundness bug\footnote{Issue No.\,4 at
\url{https://github.com/gilith/metis/issues/4}} in the stripping of
the goal.


This paper is organized in the following way: in
Section~\ref{sec:type-theory}, some limitations of type theory are
discussed from our proof-reconstruction point of view.  In
Section~\ref{sec:metis-language-and-proofs}, we introduce the \Metis
prover.  In Section~\ref{sec:proof-reconstruction}, we show our
approach to reconstruct \Metis derivations.  Related work is described
in Section~\ref{sec:related-work}.  Conclusions and suggestions for
future work are presented in Section~\ref{sec:conclusions}.

The source code accompanying this paper (programs, libraries, and
examples) is available at \verb!GitHub!:

\begin{itemize}
  \item The \Athena program that translates proofs generated by \Metis
  to \Agda code: \url{http://github.com/jonaprieto/athena}.

  \item The \verb!agda-prop! library as a formalization in \Agda for
    classical propositional logic:
  \url{http://github.com/jonaprieto/agda-prop}.

  \item The \verb!agda-metis! library as a formalization in \Agda to
  justify \Metis derivations of classical propositional logic:
  \url{http://github.com/jonaprieto/agda-prop}.

\end{itemize}


<<<<<<< HEAD:pubs/paper/sections/02-introduction.tex
The proof-reconstruction tool \Athena was tested with
\prg{GHC}~v8.6.5. Both libraries, \verb!agda-prop! and
\verb!agda-metis! were tested with \Agda~v2.6.0.1 and \Agda standard
library~v1.1. \Athena jointly with \verb!agda-prop! and
\verb!agda-metis! are able to reconstruct propositional proofs of
\Metis~v2.4.20180810. We successfully reconstructed eighty theorems in
classical propositional logic from the \TPTP
collection~\cite{Prieto-Cubides2017} to test the developments and the
formalization presented in this research.
=======
The proof-reconstruction tool \Athena was tested with \prg{GHC}~8.4.3.
Both libraries, \verb!agda-prop! and \verb!agda-metis! were tested with
\Agda~2.5.4 and \Agda standard library~0.16.
\Athena jointly with \verb!agda-prop! and \verb!agda-metis! are able
to reconstruct propositional proofs of \Metis~2.4 (release~20180207).
We successfully reconstruct around eighty theorems in classical propositional
logic from the \TPTP collection~\cite{Prieto-Cubides2017} to test
the developments and the formalization presented in this research.
>>>>>>> 078fe67b5636e860b63c9f7ccb7fedded0cdfd44:pubs/itp-2018/sections/introduction.tex


\end{document}
